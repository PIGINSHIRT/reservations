<view class="container">
  
  <view class="map-area">
    <image class="map-img" src="cloud://ä½ çš„ç¯å¢ƒID/seat-map.jpg" mode="widthFix" bindtap="previewMap"></image>
    <view class="map-tip">ç‚¹å‡»æŸ¥çœ‹åŒºåŸŸåˆ†å¸ƒå¤§å›¾</view>
  </view>

  <view class="area-tabs-container">
    <scroll-view scroll-x class="area-tabs" enable-flex>
      <block wx:for="{{areaList}}" wx:key="id">
        <view 
          class="tab-item {{currentAreaId === item.id ? 'active' : ''}}" 
          bindtap="switchArea" 
          data-id="{{item.id}}">
          <text class="tab-name">{{item.name}}</text>
          <text class="tab-desc">{{item.desc}}</text>
        </view>
      </block>
    </scroll-view>
  </view>

  <scroll-view scroll-y class="seat-grid-scroll">
    <view class="seat-grid">
      <block wx:for="{{currentSeats}}" wx:key="seatNo">
        <view class="seat-wrapper" bindtap="onSeatTap" data-item="{{item}}">
          
          <view class="seat-box {{item.status}} {{selectedSeat === item.seatNo ? 'selected' : ''}}">
            <block wx:if="{{item.status === 'occupied'}}">
              <text class="status-icon">ğŸ”’</text> </block>
            <block wx:elif="{{selectedSeat === item.seatNo}}">
              <text class="status-icon">âœ…</text> </block>
            <block wx:else>
              <text class="status-icon">{{item.type === 'vip' ? 'ğŸ‘‘' : 'ğŸª‘'}}</text> </block>
          </view>
          
          <text class="seat-no">{{item.seatNo}}</text>
        </view>
      </block>
      
      <view wx:if="{{currentSeats.length === 0}}" class="empty-tip">åŠ è½½ä¸­æˆ–è¯¥åŒºåŸŸæš‚æ— åº§ä½</view>
    </view>
  </scroll-view>

  <view class="footer-bar">
    <view class="selected-info">
      <text wx:if="{{selectedSeat}}">å·²é€‰ï¼š{{selectedSeat}}å·åº§</text>
      <text wx:else style="color: #999;">è¯·é€‰æ‹©åº§ä½</text>
      <text class="price-info" wx:if="{{selectedSeat}}">({{bookingInfo.mode === 'day' ? 'æŒ‰å¤©' : 'æŒ‰æ—¶'}})</text>
    </view>
    <button class="confirm-btn" type="primary" disabled="{{!selectedSeat}}" bindtap="submitBooking">ç«‹å³é¢„å®š</button>
  </view>
</view>